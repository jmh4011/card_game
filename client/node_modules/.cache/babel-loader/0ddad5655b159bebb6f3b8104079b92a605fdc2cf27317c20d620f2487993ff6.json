{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback } from \"react\";\nimport { atom, useRecoilState } from \"recoil\";\nexport const modalState = atom({\n  key: 'modalState',\n  default: []\n});\nconst isArrEmpty = arr => arr.length === 0;\nconst useModal = component => {\n  _s();\n  const [modalElements, setModal] = useRecoilState(modalState);\n  const id = `${component.name}`;\n  const isOpen = modalElements.includes({\n    id: id,\n    element: component\n  });\n  const openModal = useCallback(() => {\n    console.log(isOpen);\n    if (!isOpen) {\n      setModal(pre => [...pre, {\n        id: id,\n        element: component\n      }]);\n    }\n    document.body.style.overflow = 'hidden';\n    // modal이 open되면 배경의 스크롤을 막아야함\n  }, [component, id, setModal]);\n  const closeModal = useCallback(() => {\n    setModal(pre => pre.filter(c => c.id !== id));\n    // modal을 전역상태에서 제거한다.\n\n    if (isArrEmpty(modalElements)) document.body.style.overflow = 'unset';\n    // modal이 모두 꺼지면 배경의 스크롤이 가능해야함\n  }, [id, modalElements, setModal]);\n  return {\n    isOpen,\n    openModal,\n    closeModal\n  };\n};\n_s(useModal, \"LhzfeIUDbJzjT9Ap8lZ85uMaWfo=\", false, function () {\n  return [useRecoilState];\n});\nexport default useModal;","map":{"version":3,"names":["useCallback","atom","useRecoilState","modalState","key","default","isArrEmpty","arr","length","useModal","component","_s","modalElements","setModal","id","name","isOpen","includes","element","openModal","console","log","pre","document","body","style","overflow","closeModal","filter","c"],"sources":["C:/Users/pipil/file/github/card_game/client/src/components/useModal.tsx"],"sourcesContent":["import { useCallback, useId, useState } from \"react\";\r\nimport { atom, useRecoilState } from \"recoil\";\r\n\r\n\r\nexport const modalState = atom<{ id: string; element: React.FC }[]>({\r\n  key: 'modalState',\r\n  default: [],\r\n});\r\n\r\nconst isArrEmpty = (arr: unknown[]) => arr.length === 0;\r\n\r\nconst useModal = (component: React.FC) => {\r\n  const [modalElements, setModal] = useRecoilState(modalState);\r\n  const id = `${component.name}`;\r\n  const isOpen = modalElements.includes({id: id, element: component });\r\n\r\n  const openModal = useCallback(() => {\r\n    console.log(isOpen)\r\n    if (!isOpen){\r\n      setModal((pre) => [...pre, { id: id, element: component }]);}\r\n    document.body.style.overflow = 'hidden';\r\n    // modal이 open되면 배경의 스크롤을 막아야함\r\n  }, [component, id, setModal]);\r\n\r\n  const closeModal = useCallback(() => {\r\n    setModal((pre) => pre.filter((c) => c.id !== id));\r\n    // modal을 전역상태에서 제거한다.\r\n\r\n    if (isArrEmpty(modalElements)) document.body.style.overflow = 'unset';\r\n    // modal이 모두 꺼지면 배경의 스크롤이 가능해야함\r\n  }, [id, modalElements, setModal]);\r\n\r\n  return { isOpen, openModal, closeModal };\r\n};\r\n\r\nexport default useModal;"],"mappings":";AAAA,SAASA,WAAW,QAAyB,OAAO;AACpD,SAASC,IAAI,EAAEC,cAAc,QAAQ,QAAQ;AAG7C,OAAO,MAAMC,UAAU,GAAGF,IAAI,CAAsC;EAClEG,GAAG,EAAE,YAAY;EACjBC,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,MAAMC,UAAU,GAAIC,GAAc,IAAKA,GAAG,CAACC,MAAM,KAAK,CAAC;AAEvD,MAAMC,QAAQ,GAAIC,SAAmB,IAAK;EAAAC,EAAA;EACxC,MAAM,CAACC,aAAa,EAAEC,QAAQ,CAAC,GAAGX,cAAc,CAACC,UAAU,CAAC;EAC5D,MAAMW,EAAE,GAAI,GAAEJ,SAAS,CAACK,IAAK,EAAC;EAC9B,MAAMC,MAAM,GAAGJ,aAAa,CAACK,QAAQ,CAAC;IAACH,EAAE,EAAEA,EAAE;IAAEI,OAAO,EAAER;EAAU,CAAC,CAAC;EAEpE,MAAMS,SAAS,GAAGnB,WAAW,CAAC,MAAM;IAClCoB,OAAO,CAACC,GAAG,CAACL,MAAM,CAAC;IACnB,IAAI,CAACA,MAAM,EAAC;MACVH,QAAQ,CAAES,GAAG,IAAK,CAAC,GAAGA,GAAG,EAAE;QAAER,EAAE,EAAEA,EAAE;QAAEI,OAAO,EAAER;MAAU,CAAC,CAAC,CAAC;IAAC;IAC9Da,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,QAAQ;IACvC;EACF,CAAC,EAAE,CAAChB,SAAS,EAAEI,EAAE,EAAED,QAAQ,CAAC,CAAC;EAE7B,MAAMc,UAAU,GAAG3B,WAAW,CAAC,MAAM;IACnCa,QAAQ,CAAES,GAAG,IAAKA,GAAG,CAACM,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACf,EAAE,KAAKA,EAAE,CAAC,CAAC;IACjD;;IAEA,IAAIR,UAAU,CAACM,aAAa,CAAC,EAAEW,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,OAAO;IACrE;EACF,CAAC,EAAE,CAACZ,EAAE,EAAEF,aAAa,EAAEC,QAAQ,CAAC,CAAC;EAEjC,OAAO;IAAEG,MAAM;IAAEG,SAAS;IAAEQ;EAAW,CAAC;AAC1C,CAAC;AAAChB,EAAA,CAtBIF,QAAQ;EAAA,QACsBP,cAAc;AAAA;AAuBlD,eAAeO,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}