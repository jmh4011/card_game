{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useEffect, useState } from \"react\";\nimport { atom, useRecoilState } from \"recoil\";\nexport const modalState = atom({\n  key: 'modalState',\n  default: []\n});\nconst useModal = component => {\n  _s();\n  const [modalElements, setModal] = useRecoilState(modalState);\n  const id = `${component.name}-${new Date().getTime()}`;\n  const [isOpen, setIsOpen] = useState(modalElements.some(modal => modal.id === id));\n  const openModal = useCallback(() => {\n    setModal(prev => [...prev, {\n      id,\n      element: component\n    }]);\n    console.log(modalElements);\n    document.body.style.overflow = 'hidden';\n  }, [component, id, setModal]);\n  const closeModal = useCallback(() => {\n    setModal(prev => prev.filter(modal => modal.id !== id));\n  }, [id, setModal]);\n  useEffect(() => {\n    // 모든 모달이 닫힌 경우에 스크롤을 해제합니다.\n    if (modalElements.length === 0) {\n      document.body.style.overflow = 'unset';\n    }\n    setIsOpen(modalElements.some(modal => modal.id === id));\n  }, [modalElements]);\n  return {\n    isOpen,\n    openModal,\n    closeModal\n  };\n};\n_s(useModal, \"gZRmegUgz/oxcSgdPfxomKS3Qns=\", false, function () {\n  return [useRecoilState];\n});\nexport default useModal;","map":{"version":3,"names":["useCallback","useEffect","useState","atom","useRecoilState","modalState","key","default","useModal","component","_s","modalElements","setModal","id","name","Date","getTime","isOpen","setIsOpen","some","modal","openModal","prev","element","console","log","document","body","style","overflow","closeModal","filter","length"],"sources":["C:/Users/pipil/file/github/card_game/client/src/components/useModal.tsx"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\r\nimport { atom, useRecoilState } from \"recoil\";\r\n\r\nexport const modalState = atom<{ id: string; element: React.FC }[]>({\r\n  key: 'modalState',\r\n  default: [],\r\n});\r\n\r\nconst useModal = (component: React.FC) => {\r\n  const [modalElements, setModal] = useRecoilState(modalState);\r\n  const id = `${component.name}-${new Date().getTime()}`;\r\n\r\n  const [isOpen,setIsOpen] = useState(modalElements.some(modal => modal.id === id));\r\n\r\n  const openModal = useCallback(() => {\r\n    setModal(prev => [...prev, { id, element: component }]);\r\n    console.log(modalElements)\r\n    document.body.style.overflow = 'hidden';\r\n  }, [component, id, setModal]);\r\n\r\n  const closeModal = useCallback(() => {\r\n    setModal(prev => prev.filter(modal => modal.id !== id));\r\n  }, [id, setModal]);\r\n\r\n  useEffect(() => {\r\n    // 모든 모달이 닫힌 경우에 스크롤을 해제합니다.\r\n    if (modalElements.length === 0) {\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n    setIsOpen(modalElements.some(modal => modal.id === id))\r\n  }, [modalElements]);\r\n\r\n  return { isOpen, openModal, closeModal };\r\n};\r\n\r\nexport default useModal;\r\n"],"mappings":";AAAA,SAASA,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACxD,SAASC,IAAI,EAAEC,cAAc,QAAQ,QAAQ;AAE7C,OAAO,MAAMC,UAAU,GAAGF,IAAI,CAAsC;EAClEG,GAAG,EAAE,YAAY;EACjBC,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAIC,SAAmB,IAAK;EAAAC,EAAA;EACxC,MAAM,CAACC,aAAa,EAAEC,QAAQ,CAAC,GAAGR,cAAc,CAACC,UAAU,CAAC;EAC5D,MAAMQ,EAAE,GAAI,GAAEJ,SAAS,CAACK,IAAK,IAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAE,EAAC;EAEtD,MAAM,CAACC,MAAM,EAACC,SAAS,CAAC,GAAGhB,QAAQ,CAACS,aAAa,CAACQ,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACP,EAAE,KAAKA,EAAE,CAAC,CAAC;EAEjF,MAAMQ,SAAS,GAAGrB,WAAW,CAAC,MAAM;IAClCY,QAAQ,CAACU,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;MAAET,EAAE;MAAEU,OAAO,EAAEd;IAAU,CAAC,CAAC,CAAC;IACvDe,OAAO,CAACC,GAAG,CAACd,aAAa,CAAC;IAC1Be,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,QAAQ;EACzC,CAAC,EAAE,CAACpB,SAAS,EAAEI,EAAE,EAAED,QAAQ,CAAC,CAAC;EAE7B,MAAMkB,UAAU,GAAG9B,WAAW,CAAC,MAAM;IACnCY,QAAQ,CAACU,IAAI,IAAIA,IAAI,CAACS,MAAM,CAACX,KAAK,IAAIA,KAAK,CAACP,EAAE,KAAKA,EAAE,CAAC,CAAC;EACzD,CAAC,EAAE,CAACA,EAAE,EAAED,QAAQ,CAAC,CAAC;EAElBX,SAAS,CAAC,MAAM;IACd;IACA,IAAIU,aAAa,CAACqB,MAAM,KAAK,CAAC,EAAE;MAC9BN,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,OAAO;IACxC;IACAX,SAAS,CAACP,aAAa,CAACQ,IAAI,CAACC,KAAK,IAAIA,KAAK,CAACP,EAAE,KAAKA,EAAE,CAAC,CAAC;EACzD,CAAC,EAAE,CAACF,aAAa,CAAC,CAAC;EAEnB,OAAO;IAAEM,MAAM;IAAEI,SAAS;IAAES;EAAW,CAAC;AAC1C,CAAC;AAACpB,EAAA,CAzBIF,QAAQ;EAAA,QACsBJ,cAAc;AAAA;AA0BlD,eAAeI,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}