{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { atom, useRecoilState } from \"recoil\";\nexport const modalState = atom({\n  key: 'modalState',\n  default: []\n});\nconst useModal = component => {\n  _s();\n  const [modalElements, setModal] = useRecoilState(modalState);\n  const [isOpen, setIsOpen] = useState(false);\n  const openModal = () => {\n    const id = `${component.displayName}-${new Date().getTime()}`;\n    setModal([...modalElements, {\n      id,\n      element: component\n    }]);\n    document.body.style.overflow = 'hidden';\n  };\n  const closeModal = () => {\n    setModal(modalElements.filter(c => c.element !== component));\n    if (modalElements.length <= 1) document.body.style.overflow = 'unset';\n  };\n  useEffect(() => {\n    if (modalElements.length === 0) {\n      document.body.style.overflow = 'unset';\n    }\n  }, [modalElements.length]);\n  return {\n    isOpen,\n    openModal,\n    closeModal\n  };\n};\n_s(useModal, \"fErfhEIRCb18bif4bo60pHR3bww=\", false, function () {\n  return [useRecoilState];\n});\nexport default useModal;","map":{"version":3,"names":["useEffect","useState","atom","useRecoilState","modalState","key","default","useModal","component","_s","modalElements","setModal","isOpen","setIsOpen","openModal","id","displayName","Date","getTime","element","document","body","style","overflow","closeModal","filter","c","length"],"sources":["C:/Users/pipil/file/github/card_game/client/src/components/useModal.tsx"],"sourcesContent":["import { useCallback, useEffect, useId, useState } from \"react\";\r\nimport { atom, useRecoilState } from \"recoil\";\r\n\r\n\r\nexport const modalState = atom<{ id: string; element: React.FC }[]>({\r\n  key: 'modalState',\r\n  default: [],\r\n});\r\n\r\n\r\nconst useModal = (component: React.FC) => {\r\n  const [modalElements, setModal] = useRecoilState(modalState);\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const openModal = () => {\r\n    const id = `${component.displayName}-${new Date().getTime()}`;\r\n    setModal([...modalElements, { id, element: component }]);\r\n    document.body.style.overflow = 'hidden';\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setModal(modalElements.filter((c) => c.element !== component));\r\n    if (modalElements.length <= 1) document.body.style.overflow = 'unset';\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (modalElements.length === 0) {\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n  }, [modalElements.length]);\r\n\r\n  return { isOpen, openModal, closeModal };\r\n};\r\n\r\nexport default useModal;"],"mappings":";AAAA,SAAsBA,SAAS,EAASC,QAAQ,QAAQ,OAAO;AAC/D,SAASC,IAAI,EAAEC,cAAc,QAAQ,QAAQ;AAG7C,OAAO,MAAMC,UAAU,GAAGF,IAAI,CAAsC;EAClEG,GAAG,EAAE,YAAY;EACjBC,OAAO,EAAE;AACX,CAAC,CAAC;AAGF,MAAMC,QAAQ,GAAIC,SAAmB,IAAK;EAAAC,EAAA;EACxC,MAAM,CAACC,aAAa,EAAEC,QAAQ,CAAC,GAAGR,cAAc,CAACC,UAAU,CAAC;EAE5D,MAAM,CAACQ,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAE3C,MAAMa,SAAS,GAAGA,CAAA,KAAM;IACtB,MAAMC,EAAE,GAAI,GAAEP,SAAS,CAACQ,WAAY,IAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAE,EAAC;IAC7DP,QAAQ,CAAC,CAAC,GAAGD,aAAa,EAAE;MAAEK,EAAE;MAAEI,OAAO,EAAEX;IAAU,CAAC,CAAC,CAAC;IACxDY,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,QAAQ;EACzC,CAAC;EAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvBb,QAAQ,CAACD,aAAa,CAACe,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACP,OAAO,KAAKX,SAAS,CAAC,CAAC;IAC9D,IAAIE,aAAa,CAACiB,MAAM,IAAI,CAAC,EAAEP,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,OAAO;EACvE,CAAC;EAEDvB,SAAS,CAAC,MAAM;IACd,IAAIU,aAAa,CAACiB,MAAM,KAAK,CAAC,EAAE;MAC9BP,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,OAAO;IACxC;EACF,CAAC,EAAE,CAACb,aAAa,CAACiB,MAAM,CAAC,CAAC;EAE1B,OAAO;IAAEf,MAAM;IAAEE,SAAS;IAAEU;EAAW,CAAC;AAC1C,CAAC;AAACf,EAAA,CAvBIF,QAAQ;EAAA,QACsBJ,cAAc;AAAA;AAwBlD,eAAeI,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}